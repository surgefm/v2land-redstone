{"version":3,"sources":["../api/modes/EveryNewNewsMode.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,mCAAiE;AACjE,uCAAmC;AAEnC,MAAa,gBAAiB,SAAQ,yBAAgB;IAAtD;;QACE,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,QAAQ,CAAC;QACpB,aAAQ,GAAG,IAAI,CAAC;QAChB,eAAU,GAAG,KAAK,CAAC;IAsBrB,CAAC;IApBO,GAAG;;YACP,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9B,CAAC;KAAA;IAEK,MAAM;;YACV,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9B,CAAC;KAAA;IAEK,QAAQ;;YACZ,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9B,CAAC;KAAA;IAEK,WAAW,CAAC,EAAE,KAAK,EAAE,IAAI,EAAyB;;YACtD,OAAO;gBACL,OAAO,EAAE,GAAG,KAAK,CAAC,IAAI,SAAS;gBAC/B,OAAO,EAAE,GAAG,IAAI,CAAC,MAAM,UAAU,KAAK,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,GAAG;gBACrE,MAAM,EAAE,UAAU;gBAClB,GAAG,EAAE,GAAG,kBAAO,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE,SAAS,IAAI,CAAC,EAAE,EAAE;aACnD,CAAC;QACJ,CAAC;KAAA;CACF;AA1BD,4CA0BC;AAED,kBAAe,IAAI,gBAAgB,EAAE,CAAC","file":"EveryNewNewsMode.js","sourcesContent":["import { NotificationMode, NotificationModeInput } from '@Types';\nimport { globals } from '@Configs';\n\nexport class EveryNewNewsMode extends NotificationMode {\n  name = 'new';\n  nickname = '新的新闻报道';\n  needNews = true;\n  isInterval = false;\n\n  async new() {\n    return new Date('1/1/3000');\n  }\n\n  async update() {\n    return new Date('1/1/2000');\n  }\n\n  async notified() {\n    return new Date('1/1/3000');\n  }\n\n  async getTemplate({ event, news }: NotificationModeInput) {\n    return {\n      subject: `${event.name} 有了新的消息`,\n      message: `${news.source} 发布了关于 ${event.name} 的新消息：「${news.abstract}」`,\n      button: '点击按钮查看新闻',\n      url: `${globals.site}/${event.id}?news=${news.id}`,\n    };\n  }\n}\n\nexport default new EveryNewNewsMode();\n"],"sourceRoot":"../../../src"}