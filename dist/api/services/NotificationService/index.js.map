{"version":3,"sources":["../api/services/NotificationService/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAA+B;AAkC7B,kBAlCK,kBAAO,CAkCL;AA/BT,sFAA8D;AAsB5D,iCAtBK,gCAAsB,CAsBL;AArBxB,kGAA0E;AAsBxE,uCAtBK,sCAA4B,CAsBL;AArB9B,oFAA4D;AAsB1D,gCAtBK,+BAAqB,CAsBL;AArBvB,gGAAwE;AAsBtE,sCAtBK,qCAA2B,CAsBL;AArB7B,kGAA0E;AAsBxE,uCAtBK,sCAA4B,CAsBL;AArB9B,wFAAgE;AAsB9D,kCAtBK,iCAAuB,CAsBL;AArBzB,0FAAkE;AAsBhE,mCAtBK,kCAAwB,CAsBL;AArB1B,4DAA8C;AAE9C,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE;IACjE,kBAAO,CAAC,eAAe,CAAC,oBAAoB,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;CAC5G;AAED,SAAe,WAAW,CAAC,IAAY,EAAE,KAAe;;QACtD,OAAO,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IAClD,CAAC;CAAA;AAcC,kCAAW;AAZb,SAAe,QAAQ,CAAC,IAAY,EAAE,KAAe;;QACnD,OAAO,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IACvD,CAAC;CAAA;AAWC,4BAAQ","file":"index.js","sourcesContent":["import webpush from 'web-push';\n\nimport { EventObj } from '@Types';\nimport notifyWhenEventCreated from './notifyWhenEventCreated';\nimport notifyWhenEventStatusChanged from './notifyWhenEventStatusChanged';\nimport notifyWhenNewsCreated from './notifyWhenNewsCreated';\nimport notifyWhenNewsStatusChanged from './notifyWhenNewsStatusChanged';\nimport notifyWhenStackStatusChanged from './notifyWhenStackStatusChanged';\nimport updateNewsNotifications from './updateNewsNotifications';\nimport updateStackNotifications from './updateStackNotifications';\nimport * as ModeService from '../ModeService';\n\nif (process.env.VAPID_PUBLIC_KEY && process.env.VAPID_PRIVATE_KEY) {\n  webpush.setVapidDetails('mailto:hi@surge.fm', process.env.VAPID_PUBLIC_KEY, process.env.VAPID_PRIVATE_KEY);\n}\n\nasync function getNextTime(mode: string, event: EventObj) {\n  return ModeService.getMode(mode).new({ event });\n}\n\nasync function notified(mode: string, event: EventObj) {\n  return ModeService.getMode(mode).notified({ event });\n}\n\nexport {\n  notifyWhenEventCreated,\n  notifyWhenEventStatusChanged,\n  notifyWhenNewsCreated,\n  notifyWhenNewsStatusChanged,\n  notifyWhenStackStatusChanged,\n  updateNewsNotifications,\n  updateStackNotifications,\n  getNextTime,\n  notified,\n  webpush,\n};\n"],"sourceRoot":"../../../../src"}