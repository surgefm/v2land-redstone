{"version":3,"sources":["../api/services/NotificationService/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAA+B;AAgC7B,kBAhCK,kBAAO,CAgCL;AA7BT,sFAA8D;AAoB5D,iCApBK,gCAAsB,CAoBL;AAnBxB,kGAA0E;AAoBxE,uCApBK,sCAA4B,CAoBL;AAnB9B,oFAA4D;AAoB1D,gCApBK,+BAAqB,CAoBL;AAnBvB,gGAAwE;AAoBtE,sCApBK,qCAA2B,CAoBL;AAnB7B,kGAA0E;AAoBxE,uCApBK,sCAA4B,CAoBL;AAnB9B,wFAAgE;AAoB9D,kCApBK,iCAAuB,CAoBL;AAnBzB,0FAAkE;AAoBhE,mCApBK,kCAAwB,CAoBL;AAnB1B,4DAA8C;AAE9C,kBAAO,CAAC,eAAe,CAAC,oBAAoB,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;AAE3G,SAAe,WAAW,CAAC,IAAY,EAAE,KAAe;;QACtD,OAAO,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IAClD,CAAC;CAAA;AAcC,kCAAW;AAZb,SAAe,QAAQ,CAAC,IAAY,EAAE,KAAe;;QACnD,OAAO,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IACvD,CAAC;CAAA;AAWC,4BAAQ","file":"index.js","sourcesContent":["import webpush from 'web-push';\n\nimport { EventObj } from '@Types';\nimport notifyWhenEventCreated from './notifyWhenEventCreated';\nimport notifyWhenEventStatusChanged from './notifyWhenEventStatusChanged';\nimport notifyWhenNewsCreated from './notifyWhenNewsCreated';\nimport notifyWhenNewsStatusChanged from './notifyWhenNewsStatusChanged';\nimport notifyWhenStackStatusChanged from './notifyWhenStackStatusChanged';\nimport updateNewsNotifications from './updateNewsNotifications';\nimport updateStackNotifications from './updateStackNotifications';\nimport * as ModeService from '../ModeService';\n\nwebpush.setVapidDetails('mailto:hi@surge.fm', process.env.VAPID_PUBLIC_KEY, process.env.VAPID_PRIVATE_KEY);\n\nasync function getNextTime(mode: string, event: EventObj) {\n  return ModeService.getMode(mode).new({ event });\n}\n\nasync function notified(mode: string, event: EventObj) {\n  return ModeService.getMode(mode).notified({ event });\n}\n\nexport {\n  notifyWhenEventCreated,\n  notifyWhenEventStatusChanged,\n  notifyWhenNewsCreated,\n  notifyWhenNewsStatusChanged,\n  notifyWhenStackStatusChanged,\n  updateNewsNotifications,\n  updateStackNotifications,\n  getNextTime,\n  notified,\n  webpush,\n};\n"],"sourceRoot":"../../../../src"}