{"version":3,"sources":["../api/services/ClientService/sanitizeClient.ts"],"names":[],"mappings":";;;AAaa,QAAA,eAAe,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC/F,MAAM,WAAW,GAAG;IAClB,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,SAAS,EAAE,OAAO;IACxD,eAAe,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,mBAAmB;CAC9E,CAAC;AAEF,SAAS,cAAc,CAAC,MAAc,EAAE,QAAQ,GAAG,KAAK;IACtD,MAAM,IAAI,GAA6B,EAAE,CAAC;IAC1C,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,uBAAe,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,CAAC,EAAE;QAC1E,IAAI,CAAC,IAAI,CAAC,GAAI,MAAc,CAAC,IAAI,CAAC,CAAC;KACpC;IAED,IAAI,QAAQ,EAAE;QACZ,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,GAAI,MAAc,CAAC,IAAI,CAAC,CAAC;SACpC;KACF;IAED,IAAK,MAAc,CAAC,QAAQ,EAAE;QAC5B,IAAI,CAAC,QAAQ,GAAI,MAAc,CAAC,QAAQ,CAAC;KAC1C;IAED,OAAO,IAAuB,CAAC;AACjC,CAAC;AAED,kBAAe,cAAc,CAAC","file":"sanitizeClient.js","sourcesContent":["import { Client, Event } from '@Models';\n\nexport interface SanitizedClient {\n  username: string;\n  nickname: string;\n  avatar: string;\n  id: number;\n  description: string;\n  role: string;\n  events: Event[];\n  objectID?: number;\n}\n\nexport const sanitizedFields = ['username', 'nickname', 'id', 'description', 'avatar', 'role'];\nconst otherFields = [\n  'email', 'emailVerified', 'settings', 'records', 'auths',\n  'subscriptions', 'contacts', 'reports', 'tags', 'events', 'subscriptionCount',\n];\n\nfunction sanitizeClient(client: Client, forAdmin = false): SanitizedClient {\n  const temp: { [index: string]: any } = {};\n  for (const attr of [...sanitizedFields, 'events', 'stars', 'curatorRoles']) {\n    temp[attr] = (client as any)[attr];\n  }\n\n  if (forAdmin) {\n    for (const attr of otherFields) {\n      temp[attr] = (client as any)[attr];\n    }\n  }\n\n  if ((client as any).objectID) {\n    temp.objectID = (client as any).objectID;\n  }\n\n  return temp as SanitizedClient;\n}\n\nexport default sanitizeClient;\n"],"sourceRoot":"../../../../src"}