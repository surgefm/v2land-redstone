{"version":3,"sources":["../api/services/AccessControlService/TagAccessControl/allowClientToManageTag.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uEAAyD;AACzD,0EAAyE;AACzE,+CAAiD;AAEjD,SAA8B,sBAAsB,CAAC,QAAgB,EAAE,KAAa,EAAE,EAAW;;QAC/F,IAAI,EAAE,EAAE;YACN,MAAM,aAAa,CAAC,MAAM,CAAC;gBACzB,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,wBAAwB;gBAChC,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,KAAK;gBAChB,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;SACJ;QACD,OAAO,IAAA,yBAAY,EAAC,QAAQ,EAAE,MAAM,IAAA,8BAAgB,EAAC,KAAK,CAAC,CAAC,CAAC;IAC/D,CAAC;CAAA;AAXD,yCAWC","file":"allowClientToManageTag.js","sourcesContent":["import * as RecordService from '@Services/RecordService';\nimport { addUserRoles } from '@Services/AccessControlService/operations';\nimport { getTagManageRole } from './getTagRoles';\n\nexport default async function allowClientToManageTag(clientId: number, tagId: number, by?: number) {\n  if (by) {\n    await RecordService.update({\n      model: 'Client',\n      action: 'allowClientToManageTag',\n      target: clientId,\n      subtarget: tagId,\n      owner: by,\n    });\n  }\n  return addUserRoles(clientId, await getTagManageRole(tagId));\n}\n"],"sourceRoot":"../../../../../src"}