{"version":3,"sources":["../api/services/EventService/getCurations.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qCAA4D;AAE5D,MAAM,YAAY,GAAG,CAAO,OAAe,EAAE,EAAE;IAC7C,OAAO,mBAAS,CAAC,KAAK,CAAc;;;;;;;;;GASnC,EAAE;QACD,IAAI,EAAE,mBAAS,CAAC,UAAU,CAAC,MAAM;QACjC,IAAI,EAAE,CAAC,OAAO,CAAC;KAChB,CAAC,CAAC;AACL,CAAC,CAAA,CAAC;AAEF,kBAAe,YAAY,CAAC","file":"getCurations.js","sourcesContent":["import { TagCuration, sequelize, Sequelize } from '@Models';\n\nconst getCurations = async (eventId: number) => {\n  return sequelize.query<TagCuration>(`\n    SELECT *\n    FROM \"tagCuration\" AS a,\n      (SELECT \"tagId\", MAX(\"updatedAt\") \"updatedAt\"\n      FROM \"tagCuration\"\n      WHERE \"eventId\" = $1\n      GROUP BY \"tagId\") AS b\n    WHERE a.\"tagId\" = b.\"tagId\"\n    AND a.\"updatedAt\" = b.\"updatedAt\"\n  `, {\n    type: Sequelize.QueryTypes.SELECT,\n    bind: [eventId],\n  });\n};\n\nexport default getCurations;\n"],"sourceRoot":"../../../../src"}