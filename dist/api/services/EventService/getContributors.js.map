{"version":3,"sources":["../api/services/EventService/getContributors.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,qCAAiE;AAEjE,SAAe,eAAe,CAAC,OAAe,EAAE,EAAE,WAAW,KAAoC,EAAE;;QACjG,OAAO,mBAAS,CAAC,KAAK,CAAmB;;;wBAGnB,OAAO;;GAE5B,EAAE;YACD,WAAW;YACX,IAAI,EAAE,mBAAS,CAAC,UAAU,CAAC,MAAM;SAClC,CAAC,CAAC;IACL,CAAC;CAAA;AAED,kBAAe,eAAe,CAAC","file":"getContributors.js","sourcesContent":["import { Transaction } from 'sequelize';\nimport { sequelize, EventContributor, Sequelize } from '@Models';\n\nasync function getContributors(eventId: number, { transaction }: { transaction?: Transaction } = {}) {\n  return sequelize.query<EventContributor>(`\n    SELECT DISTINCT ON (\"contributorId\") \"contributorId\", *\n    FROM public.\"eventContributor\"\n    WHERE \"eventId\" = ${eventId}\n    ORDER BY \"contributorId\", \"createdAt\" DESC\n  `, {\n    transaction,\n    type: Sequelize.QueryTypes.SELECT,\n  });\n}\n\nexport default getContributors;\n"],"sourceRoot":"../../../../src"}