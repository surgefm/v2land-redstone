{"version":3,"sources":["../api/controllers/TagController/addCurator.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,yCAAuC;AAEvC,SAAe,UAAU,CAAC,GAAoB,EAAE,GAAqB;;QACnE,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC;QAChC,MAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;QACrC,IAAI,CAAC,SAAS,EAAE;YACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,iBAAiB;aAC3B,CAAC,CAAC;SACJ;QACD,MAAM,UAAU,GAAG,MAAM,sBAAU,CAAC,UAAU,CAAC,KAAK,EAAE,SAAS,EAAE,GAAG,CAAC,aAAa,CAAC,CAAC;QACpF,IAAI,UAAU,EAAE;YACd,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,OAAO,EAAE,WAAW;gBACpB,KAAK;gBACL,SAAS;aACV,CAAC,CAAC;SACJ;aAAM;YACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,OAAO,EAAE,eAAe;aACzB,CAAC,CAAC;SACJ;IACH,CAAC;CAAA;AAED,kBAAe,UAAU,CAAC","file":"addCurator.js","sourcesContent":["import { RedstoneRequest, RedstoneResponse } from '@Types';\nimport { TagService } from '@Services';\n\nasync function addCurator(req: RedstoneRequest, res: RedstoneResponse) {\n  const tagId = +req.params.tagId;\n  const curatorId = req.body.curatorId;\n  if (!curatorId) {\n    return res.status(400).json({\n      message: '缺失参数: curatorId',\n    });\n  }\n  const tagCurator = await TagService.addCurator(tagId, curatorId, req.currentClient);\n  if (tagCurator) {\n    res.status(201).json({\n      message: '成功添加话题主持人',\n      tagId,\n      curatorId,\n    });\n  } else {\n    res.status(200).json({\n      message: '该用户本来就是该话题主持人',\n    });\n  }\n}\n\nexport default addCurator;\n"],"sourceRoot":"../../../../src"}