{"version":3,"sources":["../api/policies/isEditor.ts"],"names":[],"mappings":";;AAWA,mBAAwB,GAAoB,EAAE,GAAqB,EAAE,IAAkB;IACrF,IAAI,GAAG,CAAC,aAAa,CAAC,QAAQ,EAAE;QAC9B,IAAI,EAAE,CAAC;KACR;SAAM;QACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,YAAY;SACtB,CAAC,CAAC;KACJ;AACH,CAAC;AARD,4BAQC","file":"isEditor.js","sourcesContent":["/**\n * isEditor\n *\n * @module      :: Policy\n * @description :: Check if the session client's role is admin or editor\n *                 This policy must be applie only AFTER isLoggedIn policy\n *                 which means the client should have a valid req.currentClient instance\n * @returns     :: '403 您没有权限进行该操作' if unauthorized\n *\n */\nimport { RedstoneRequest, RedstoneResponse, NextFunction } from '@Types';\nexport default function(req: RedstoneRequest, res: RedstoneResponse, next: NextFunction) {\n  if (req.currentClient.isEditor) {\n    next();\n  } else {\n    return res.status(403).json({\n      message: '您没有权限进行该操作',\n    });\n  }\n}\n"],"sourceRoot":"../../../src"}