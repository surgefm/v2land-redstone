{"version":3,"sources":["../config/oauth.ts"],"names":[],"mappings":";;;;;AAAA,iCAAsC;AACtC,2CAAyC;AAEzC,wDAAgC;AAEhC,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;AACxB,IAAI,OAAO,GAAU,IAAI,CAAC;AAC1B,IAAI,KAAK,GAAW,IAAI,CAAC;AACzB,IAAI,MAAM,GAAiB,IAAI,CAAC;AAEhC,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,cAAc,EAAE;IACzC,OAAO,GAAG,IAAI,aAAK,CACjB,6CAA6C,EAC7C,4CAA4C,EAC5C,GAAG,CAAC,WAAW,EACf,GAAG,CAAC,cAAc,EAClB,MAAM,EACN,iBAAO,CAAC,GAAG,GAAG,wBAAwB,EACtC,WAAW,CACZ,CAAC;CACH;AAED,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,YAAY,EAAE;IACrC,KAAK,GAAG,IAAI,cAAM,CAChB,GAAG,CAAC,SAAS,EACb,GAAG,CAAC,YAAY,EAChB,wBAAwB,EACxB,kBAAkB,EAClB,qBAAqB,EACrB,IAAI,CACL,CAAC;CACH;AAED,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,aAAa,EAAE;IAC7C,MAAM,GAAG,IAAI,mBAAC,CAAC,IAAI,CAAC,MAAM,CACxB,GAAG,CAAC,gBAAgB,EACpB,GAAG,CAAC,aAAa,EACjB,GAAG,iBAAO,CAAC,GAAG,uBAAuB,CACtC,CAAC;CACH;AAED,kBAAe;IACb,OAAO;IACP,KAAK;IACL,MAAM;CACP,CAAC","file":"oauth.js","sourcesContent":["import { OAuth, OAuth2 } from 'oauth';\nimport { google as g } from 'googleapis';\nimport { OAuth2Client } from 'google-auth-library/build/src/auth/oauth2client';\nimport globals from './globals';\n\nconst env = process.env;\nlet twitter: OAuth = null;\nlet weibo: OAuth2 = null;\nlet google: OAuth2Client = null;\n\nif (env.TWITTER_KEY && env.TWITTER_SECRET) {\n  twitter = new OAuth(\n    'https://api.twitter.com/oauth/request_token',\n    'https://api.twitter.com/oauth/access_token',\n    env.TWITTER_KEY,\n    env.TWITTER_SECRET,\n    '1.0A',\n    globals.api + '/auth/twitter/callback',\n    'HMAC-SHA1'\n  );\n}\n\nif (env.WEIBO_KEY && env.WEIBO_SECRET) {\n  weibo = new OAuth2(\n    env.WEIBO_KEY,\n    env.WEIBO_SECRET,\n    'https://api.weibo.com/',\n    'oauth2/authorize',\n    'oauth2/access_token',\n    null\n  );\n}\n\nif (env.GOOGLE_CLIENT_ID && env.GOOGLE_SECRET) {\n  google = new g.auth.OAuth2(\n    env.GOOGLE_CLIENT_ID,\n    env.GOOGLE_SECRET,\n    `${globals.api}/auth/google/callback`,\n  );\n}\n\nexport default {\n  twitter,\n  weibo,\n  google,\n};\n"],"sourceRoot":"../../src"}